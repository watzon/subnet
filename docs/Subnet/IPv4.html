<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.29.0">


<link href="../css/style.css" rel="stylesheet" type="text/css">

<script type="text/javascript" src="../js/doc.js"></script>
<script type="text/javascript">
  CrystalDoc.base_path = "../";
</script>

  <meta id="repository-name" content="github.com/watzon/subnet">
  <title>Subnet::IPv4 - github.com/watzon/subnet</title>
</head>
<body>

<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="repository-links">
      <a href="../index.html">README</a>
    </div>
  </div>

  <div class="search-results" class="hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent open current" data-id="github.com/watzon/subnet/Subnet" data-name="subnet">
      <a href="../Subnet.html">Subnet</a>
      
        <ul>
  
  <li class=" current" data-id="github.com/watzon/subnet/Subnet/IPv4" data-name="subnet::ipv4">
      <a href="../Subnet/IPv4.html">IPv4</a>
      
    </li>
  
  <li class=" " data-id="github.com/watzon/subnet/Subnet/Prefix" data-name="subnet::prefix">
      <a href="../Subnet/Prefix.html">Prefix</a>
      
    </li>
  
  <li class=" " data-id="github.com/watzon/subnet/Subnet/Prefix128" data-name="subnet::prefix128">
      <a href="../Subnet/Prefix128.html">Prefix128</a>
      
    </li>
  
  <li class=" " data-id="github.com/watzon/subnet/Subnet/Prefix32" data-name="subnet::prefix32">
      <a href="../Subnet/Prefix32.html">Prefix32</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">class</span> Subnet::IPv4

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../Subnet/IPv4.html">Subnet::IPv4</a></li><li class="superclass">Reference</li><li class="superclass">Object</li></ul>




  <h2>Overview</h2>

  <p>Represents a IPv4 style IP address.</p>





  <h2>Included Modules</h2>
  <ul class="other-types-list">
  
    <li class="other-type">Comparable(<a href="../Subnet/IPv4.html">Subnet::IPv4</a>)</li>
  
    <li class="other-type">Enumerable(UInt8)</li>
  
    <li class="other-type"><a href="../Subnet.html">Subnet</a></li>
  
  </ul>










  <h2>Defined in:</h2>
  
    
      <a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L5" target="_blank">
        subnet/ipv4.cr
      </a>
    
    <br/>
  



  
    <h2>Constant Summary</h2>
  
  <dl>
    
      <dt class="entry-const" id="CLASSFUL">
        <strong>CLASSFUL</strong> = <code>{<span class="s">/^0../</span> => <span class="n">8</span>, <span class="s">/^10./</span> => <span class="n">16</span>, <span class="s">/^110/</span> => <span class="n">24</span>}</code>
      </dt>
      
      <dd class="entry-const-doc">
        <p>This Hash contains the prefix values for Classful networks</p>

<p>Note: classes C, D and E will all have a default
prefix of /24 or 255.255.255.0</p>
      </dd>
      
    
      <dt class="entry-const" id="REGEXP">
        <strong>REGEXP</strong> = <code><span class="t">Regexp</span>.<span class="k">new</span>(<span class="s">/((25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)\.){3}(25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)/</span>)</code>
      </dt>
      
      <dd class="entry-const-doc">
        <p>Regular expression to match an IPv4 address</p>
      </dd>
      
    
  </dl>



  <h2>Constructors</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new%28str%29-class-method" class="signature"><strong>.new</strong>(str)</a>
        
          <div class="summary"><p>Creates a new IPv4 address object.</p></div>
        
      </li>
    
  </ul>



  <h2>Class Method Summary</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#extract%28str%29-class-method" class="signature"><strong>.extract</strong>(str)</a>
        
          <div class="summary"><p>Extract an IPv4 address from a string and returns a new object</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#parse_classful%28ip%29-class-method" class="signature"><strong>.parse_classful</strong>(ip)</a>
        
          <div class="summary"><p>Creates a new IPv4 address object by parsing the address in a classful way.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#parse_data%28str%2Cprefix%3D32%29-class-method" class="signature"><strong>.parse_data</strong>(str, prefix = <span class="n">32</span>)</a>
        
          <div class="summary"><p>Creates a new IPv4 object from binary data, like the one you get from a network stream.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#parse_u32%28u32%2Cprefix%3D32%29-class-method" class="signature"><strong>.parse_u32</strong>(u32, prefix = <span class="n">32</span>)</a>
        
          <div class="summary"><p>Creates a new IPv4 object from an unsigned 32bits integer.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#summarize%28args%29-class-method" class="signature"><strong>.summarize</strong>(args)</a>
        
          <div class="summary"><p>Summarization (or aggregation) is the process when two or more networks are taken together to check if a supernet, including all and only these networks, exists.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#summarize%28%2Aargs%29-class-method" class="signature"><strong>.summarize</strong>(*args)</a>
        
          <div class="summary"><p>Summarization (or aggregation) is the process when two or more networks are taken together to check if a supernet, including all and only these networks, exists.</p></div>
        
      </li>
    
  </ul>



  <h2>Instance Method Summary</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#%2B%28oth%29-instance-method" class="signature"><strong>#+</strong>(oth)</a>
        
          <div class="summary"><p>Returns a new IPv4 object which is the result of the summarization, if possible, of the two objects</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#-%28oth%29-instance-method" class="signature"><strong>#-</strong>(oth)</a>
        
          <div class="summary"><p>Returns the difference between two IP addresses in unsigned int 32 bits format</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#%2F%28subnets%29-instance-method" class="signature"><strong>#/</strong>(subnets)</a>
        
          <div class="summary"><p>Splits a network into different subnets</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#%28oth%29-instance-method" class="signature"><strong>#<=></strong>(oth)</a>
        
          <div class="summary"><p>Spaceship operator to compare IPv4 objects</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#%5B%5D%28index%29-instance-method" class="signature"><strong>#[]</strong>(index)</a>
        
          <div class="summary"><p>Returns the octet specified by index</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#%5B%5D%3D%28index%2Cvalue%29-instance-method" class="signature"><strong>#[]=</strong>(index, value)</a>
        
          <div class="summary"><p>Updated the octet specified at index</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#a%3F-instance-method" class="signature"><strong>#a?</strong></a>
        
          <div class="summary"><p>Checks whether the ip address belongs to a RFC 791 CLASS A network, no matter what the subnet mask is.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#address%3AString-instance-method" class="signature"><strong>#address</strong> : String</a>
        
          <div class="summary"><p>Returns the address portion of the IPv4 object as a string.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#allocate%28skip%3D0%29-instance-method" class="signature"><strong>#allocate</strong>(skip = <span class="n">0</span>)</a>
        
          <div class="summary"><p>Allocates a new ip from the current subnet.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#arpa-instance-method" class="signature"><strong>#arpa</strong></a>
        
          <div class="summary"><p>Returns the IP address in in-addr.arpa format for DNS lookups</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#b%3F-instance-method" class="signature"><strong>#b?</strong></a>
        
          <div class="summary"><p>Checks whether the ip address belongs to a RFC 791 CLASS B network, no matter what the subnet mask is.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#bits-instance-method" class="signature"><strong>#bits</strong></a>
        
          <div class="summary"><p>Returns the address portion of an IP in binary format, as a string containing a sequence of 0 and 1</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#broadcast-instance-method" class="signature"><strong>#broadcast</strong></a>
        
          <div class="summary"><p>Returns the broadcast address for the given IP.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#broadcast_u32-instance-method" class="signature"><strong>#broadcast_u32</strong></a>
        
          <div class="summary"><p>Returns the broadcast address in Unsigned 32bits format</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#c%3F-instance-method" class="signature"><strong>#c?</strong></a>
        
          <div class="summary"><p>Checks whether the ip address belongs to a RFC 791 CLASS C network, no matter what the subnet mask is.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#data-instance-method" class="signature"><strong>#data</strong></a>
        
          <div class="summary"><p>Returns the address portion of an IPv4 object in a network byte order format.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#each%28%26block%29-instance-method" class="signature"><strong>#each</strong>(&block)</a>
        
          <div class="summary"><p>Iterates over all the IP addresses for the given network (or IP address).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#each_host%28%26block%29-instance-method" class="signature"><strong>#each_host</strong>(&block)</a>
        
          <div class="summary"><p>Iterates over all the hosts IP addresses for the given network (or IP address).</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#first-instance-method" class="signature"><strong>#first</strong></a>
        
          <div class="summary"><p>Returns a new IPv4 object with the first host IP address in the range.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#hexstring-instance-method" class="signature"><strong>#hexstring</strong></a>
        
          <div class="summary"><p>Returns the address portion in hex</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#hosts-instance-method" class="signature"><strong>#hosts</strong></a>
        
          <div class="summary"><p>Returns an array with the IP addresses of all the hosts in the network.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#includes%3F%28oth%29-instance-method" class="signature"><strong>#includes?</strong>(oth)</a>
        
          <div class="summary"><p>Checks whether a subnet includes the given IP address.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#includes_all%3F%28%2Aothers%29-instance-method" class="signature"><strong>#includes_all?</strong>(*others)</a>
        
          <div class="summary"><p>Checks whether a subnet includes all the given IPv4 objects.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#last-instance-method" class="signature"><strong>#last</strong></a>
        
          <div class="summary"><p>Like its sibling method IPv4#first, this method returns a new IPv4 object with the last host IP address in the range.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#link_local%3F-instance-method" class="signature"><strong>#link_local?</strong></a>
        
          <div class="summary"><p>Checks if an IPv4 address objects belongs to a link-local network RFC3927</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#loopback%3F-instance-method" class="signature"><strong>#loopback?</strong></a>
        
          <div class="summary"><p>Checks if an IPv4 address objects belongs to a loopback network RFC1122</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#multicast%3F-instance-method" class="signature"><strong>#multicast?</strong></a>
        
          <div class="summary"><p>Checks if an IPv4 address objects belongs to a multicast network RFC3171</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#netmask-instance-method" class="signature"><strong>#netmask</strong></a>
        
          <div class="summary"><p>Returns the prefix as a string in IP format</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#netmask%3D%28addr%29-instance-method" class="signature"><strong>#netmask=</strong>(addr)</a>
        
          <div class="summary"><p>Like IPv4#prefix=, this method allow you to change the prefix / netmask of an IP address object.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#network-instance-method" class="signature"><strong>#network</strong></a>
        
          <div class="summary"><p>Returns a new IPv4 object with the network number for the given IP.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#network%3F-instance-method" class="signature"><strong>#network?</strong></a>
        
          <div class="summary"><p>Checks if the IP address is actually a network</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#network_u32-instance-method" class="signature"><strong>#network_u32</strong></a>
        
          <div class="summary"><p>Returns the network number in Unsigned 32bits format</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#octet%28index%29-instance-method" class="signature"><strong>#octet</strong>(index)</a>
        
          <div class="summary"><p>Returns the octet specified by index</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#octets%3AArray%28Int32%29-instance-method" class="signature"><strong>#octets</strong> : Array(Int32)</a>
        
          <div class="summary"><p>Returns the address as an array of decimal values</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#prefix%3APrefix32-instance-method" class="signature"><strong>#prefix</strong> : Prefix32</a>
        
          <div class="summary"><p>Returns the prefix portion of the IPv4 object as a Subnet::Prefix32 object</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#prefix%3D%28num%29-instance-method" class="signature"><strong>#prefix=</strong>(num)</a>
        
          <div class="summary"><p>Set a new prefix number for the object</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#private%3F-instance-method" class="signature"><strong>#private?</strong></a>
        
          <div class="summary"><p>Checks if an IPv4 address objects belongs to a private network RFC1918</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#reverse-instance-method" class="signature"><strong>#reverse</strong></a>
        
          <div class="summary"><p>Returns the IP address in in-addr.arpa format for DNS lookups</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#size-instance-method" class="signature"><strong>#size</strong></a>
        
          <div class="summary"><p>Returns the number of IP addresses included in the network.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#split%28subnets%3D2%29-instance-method" class="signature"><strong>#split</strong>(subnets = <span class="n">2</span>)</a>
        
          <div class="summary"><p>Splits a network into different subnets</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#subnet%28subprefix%29-instance-method" class="signature"><strong>#subnet</strong>(subprefix)</a>
        
          <div class="summary"><p>This method implements the subnetting function similar to the one described in RFC3531.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#supernet%28new_prefix%29-instance-method" class="signature"><strong>#supernet</strong>(new_prefix)</a>
        
          <div class="summary"><p>Returns a new IPv4 object from the supernetting of the instance network.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#to%28e%29-instance-method" class="signature"><strong>#to</strong>(e)</a>
        
          <div class="summary"><p>Return a list of IP's between @address and the supplied IP</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#to_i-instance-method" class="signature"><strong>#to_i</strong></a>
        
          <div class="summary"><p>Like IPv4#prefix=, this method allow you to change the prefix / netmask of an IP address object.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#to_ipv6-instance-method" class="signature"><strong>#to_ipv6</strong></a>
        
          <div class="summary"><p>Return the ip address in a format compatible with the IPv6 Mapped IPv4 addresses</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#to_s%3AString-instance-method" class="signature"><strong>#to_s</strong> : String</a>
        
          <div class="summary"><p>Returns a string with the address portion of the IPv4 object</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#to_string-instance-method" class="signature"><strong>#to_string</strong></a>
        
          <div class="summary"><p>Returns a string with the IP address in canonical form.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#to_u32-instance-method" class="signature"><strong>#to_u32</strong></a>
        
          <div class="summary"><p>Like IPv4#prefix=, this method allow you to change the prefix / netmask of an IP address object.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#u32%3AInt64-instance-method" class="signature"><strong>#u32</strong> : Int64</a>
        
          <div class="summary"><p>Returns the address portion in unsigned 32 bits integer format.</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    


    


    


  
    


    


    


  
    

  <h3>Instance methods inherited from module <code><a href="../Subnet.html">Subnet</a></code></h3>
  
  
    <a href="../Subnet.html#ipv4%3F-instance-method" class="tooltip">
      <span>ipv4?</span>
    ipv4?</a>, 
    
  
    <a href="../Subnet.html#ipv6%3F-instance-method" class="tooltip">
      <span>ipv6?</span>
    ipv6?</a>
    
  


    


    

  <h3>Class methods inherited from module <code><a href="../Subnet.html">Subnet</a></code></h3>
  
  
    <a href="../Subnet.html#deprecate%28message%3Dnil%29-class-method" class="tooltip">
      <span>deprecate(message = <span class="n">nil</span>)</span>
    deprecate</a>, 
    
  
    <a href="../Subnet.html#ntoa%28uint%29-class-method" class="tooltip">
      <span>ntoa(uint)</span>
    ntoa</a>, 
    
  
    <a href="../Subnet.html#parse%28str%29-class-method" class="tooltip">
      <span>parse(str)</span>
    parse</a>, 
    
  
    <a href="../Subnet.html#valid%3F%28addr%29-class-method" class="tooltip">
      <span>valid?(addr)</span>
    valid?</a>, 
    
  
    <a href="../Subnet.html#valid_ip%3F%28addr%29-class-method" class="tooltip">
      <span>valid_ip?(addr)</span>
    valid_ip?</a>, 
    
  
    <a href="../Subnet.html#valid_ipv4%3F%28addr%29-class-method" class="tooltip">
      <span>valid_ipv4?(addr)</span>
    valid_ipv4?</a>, 
    
  
    <a href="../Subnet.html#valid_ipv4_netmask%3F%28addr%29-class-method" class="tooltip">
      <span>valid_ipv4_netmask?(addr)</span>
    valid_ipv4_netmask?</a>, 
    
  
    <a href="../Subnet.html#valid_ipv4_subnet%3F%28addr%29-class-method" class="tooltip">
      <span>valid_ipv4_subnet?(addr)</span>
    valid_ipv4_subnet?</a>, 
    
  
    <a href="../Subnet.html#valid_ipv6%3F%28addr%29-class-method" class="tooltip">
      <span>valid_ipv6?(addr)</span>
    valid_ipv6?</a>, 
    
  
    <a href="../Subnet.html#valid_ipv6_subnet%3F%28addr%29-class-method" class="tooltip">
      <span>valid_ipv6_subnet?(addr)</span>
    valid_ipv6_subnet?</a>
    
  


  
    


    


    


  
    


    


    


  
</div>


  <h2>Constructor Detail</h2>
  
    <div class="entry-detail" id="new(str)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(str)

        <a class="method-permalink" href="#new%28str%29-class-method">#</a>
      </div>
      
        <div class="doc"><p>Creates a new IPv4 address object.</p>

<p>An IPv4 address can be expressed in any of the following forms:</p>

<ul><li>"10.1.1.1/24": ip <code><a href="../Subnet/IPv4.html#address%3AString-instance-method">#address</a></code> and <code><a href="../Subnet/IPv4.html#prefix%3APrefix32-instance-method">#prefix</a></code>. This is the common and
suggested way to create an object.</li></ul>

<ul><li>"10.1.1.1/255.255.255.0": ip <code><a href="../Subnet/IPv4.html#address%3AString-instance-method">#address</a></code> and <code><a href="../Subnet/IPv4.html#netmask-instance-method">#netmask</a></code>. Although
convenient sometimes, this format is less clear than the previous
one.</li></ul>

<ul><li>"10.1.1.1": if the address alone is specified, the prefix will be
set as default 32, also known as the host prefix</li></ul>

<p>Examples:</p>

<p># These two are the same
  ip = Subnet::IPv4.new("10.0.0.1/24")
  ip = Subnet.parse("10.0.0.1/24")</p>

<p># These two are the same
  Subnet::IPv4.new "10.0.0.1/8"
  Subnet::IPv4.new "10.0.0.1/255.0.0.0"</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L91" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>Class Method Detail</h2>
  
    <div class="entry-detail" id="extract(str)-class-method">
      <div class="signature">
        
        def self.<strong>extract</strong>(str)

        <a class="method-permalink" href="#extract%28str%29-class-method">#</a>
      </div>
      
        <div class="doc"><p>Extract an IPv4 address from a string and
returns a new object</p>

<p>Example:</p>

<p>str = "foobar172.16.10.1barbaz"
  ip = Subnet::IPv4.extract str</p>

<p>ip.to_s</p>

<pre><code><span class="c">#=&gt; &quot;172.16.10.1&quot;</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L854" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="parse_classful(ip)-class-method">
      <div class="signature">
        
        def self.<strong>parse_classful</strong>(ip)

        <a class="method-permalink" href="#parse_classful%28ip%29-class-method">#</a>
      </div>
      
        <div class="doc"><p>Creates a new IPv4 address object by parsing the
address in a classful way.</p>

<p>Classful addresses have a fixed netmask based on the
class they belong to:</p>

<ul><li>Class A, from 0.0.0.0 to 127.255.255.255</li><li>Class B, from 128.0.0.0 to 191.255.255.255</li><li>Class C, D and E, from 192.0.0.0 to 255.255.255.254</li></ul>

<p>Example:</p>

<p>ip = Subnet::IPv4.parse_classful "10.0.0.1"</p>

<p>ip.netmask</p>

<pre><code><span class="c">#=&gt; &quot;255.0.0.0&quot;</span></code></pre>

<p>ip.a?</p>

<pre><code><span class="c">#=&gt; true</span></code></pre>

<p>Note that classes C, D and E will all have a default
prefix of /24 or 255.255.255.0</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L968" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="parse_data(str,prefix=32)-class-method">
      <div class="signature">
        
        def self.<strong>parse_data</strong>(str, prefix = <span class="n">32</span>)

        <a class="method-permalink" href="#parse_data%28str%2Cprefix%3D32%29-class-method">#</a>
      </div>
      
        <div class="doc"><p>Creates a new IPv4 object from binary data,
like the one you get from a network stream.</p>

<p>For example, on a network stream the IP 172.16.0.1
is represented with the binary "\254\020\n\001".</p>

<p>ip = Subnet::IPv4.parse_data "\254\020\n\001"
  ip.prefix = 24</p>

<p>ip.to_string</p>

<pre><code><span class="c">#=&gt; &quot;172.16.10.1/24&quot;</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L840" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="parse_u32(u32,prefix=32)-class-method">
      <div class="signature">
        
        def self.<strong>parse_u32</strong>(u32, prefix = <span class="n">32</span>)

        <a class="method-permalink" href="#parse_u32%28u32%2Cprefix%3D32%29-class-method">#</a>
      </div>
      
        <div class="doc"><p>Creates a new IPv4 object from an
unsigned 32bits integer.</p>

<p>ip = Subnet::IPv4.parse_u32(167772160)</p>

<p>ip.prefix = 8
  ip.to_string</p>

<pre><code><span class="c">#=&gt; &quot;10.0.0.0/8&quot;</span></code></pre>

<p>The <code><a href="../Subnet/IPv4.html#prefix%3APrefix32-instance-method">#prefix</a></code> parameter is optional:</p>

<p>ip = Subnet::IPv4.parse_u32(167772160, 8)</p>

<p>ip.to_string</p>

<pre><code><span class="c">#=&gt; &quot;10.0.0.0/8&quot;</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L823" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="summarize(args)-class-method">
      <div class="signature">
        
        def self.<strong>summarize</strong>(args)

        <a class="method-permalink" href="#summarize%28args%29-class-method">#</a>
      </div>
      
        <div class="doc"><p>Summarization (or aggregation) is the process when two or more
networks are taken together to check if a supernet, including all
and only these networks, exists. If it exists then this supernet
is called the summarized (or aggregated) network.</p>

<p>It is very important to understand that summarization can only
occur if there are no holes in the aggregated network, or, in other
words, if the given networks fill completely the address space
of the supernet. So the two rules are:</p>

<p>1) The aggregate network must contain +all+ the IP addresses of the
   original networks;
2) The aggregate network must contain +only+ the IP addresses of the
   original networks;</p>

<p>A few examples will help clarify the above. Let's consider for
instance the following two networks:</p>

<p>ip1 = Subnet.parse("172.16.10.0/24")
  ip2 = Subnet.parse("172.16.11.0/24")</p>

<p>These two networks can be expressed using only one IP address
network if we change the prefix. Let Ruby do the work:</p>

<p>Subnet::IPv4.summarize(ip1,ip2).to_s</p>

<pre><code><span class="c">#=&gt; &quot;172.16.10.0/23&quot;</span></code></pre>

<p>We note how the network "172.16.10.0/23" includes all the addresses
specified in the above networks, and (more important) includes
ONLY those addresses.</p>

<p>If we summarized <code>ip1</code> and <code>ip2</code> with the following network:</p>

<p>"172.16.0.0/16"</p>

<p>we would have satisfied rule #1 above, but not rule #2. So "172.16.0.0/16"
is not an aggregate network for <code>ip1</code> and <code>ip2</code>.</p>

<p>If it's not possible to compute a single aggregated network for all the
original networks, the method returns an array with all the aggregate
networks found. For example, the following four networks can be
aggregated in a single /22:</p>

<p>ip1 = Subnet.parse("10.0.0.1/24")
  ip2 = Subnet.parse("10.0.1.1/24")
  ip3 = Subnet.parse("10.0.2.1/24")
  ip4 = Subnet.parse("10.0.3.1/24")</p>

<p>Subnet::IPv4.summarize(ip1,ip2,ip3,ip4).to_string</p>

<pre><code><span class="c">#=&gt; [&quot;10.0.0.0/22&quot;]</span></code></pre>

<p>But the following networks can't be summarized in a single network:</p>

<p>ip1 = Subnet.parse("10.0.1.1/24")
  ip2 = Subnet.parse("10.0.2.1/24")
  ip3 = Subnet.parse("10.0.3.1/24")
  ip4 = Subnet.parse("10.0.4.1/24")</p>

<p>Subnet::IPv4.summarize(ip1,ip2,ip3,ip4).map{|i| i.to_string}</p>

<pre><code><span class="c">#=&gt; [&quot;10.0.1.0/24&quot;,&quot;10.0.2.0/23&quot;,&quot;10.0.4.0/24&quot;]</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L918" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="summarize(*args)-class-method">
      <div class="signature">
        
        def self.<strong>summarize</strong>(*args)

        <a class="method-permalink" href="#summarize%28%2Aargs%29-class-method">#</a>
      </div>
      
        <div class="doc"><p>Summarization (or aggregation) is the process when two or more
networks are taken together to check if a supernet, including all
and only these networks, exists. If it exists then this supernet
is called the summarized (or aggregated) network.</p>

<p>It is very important to understand that summarization can only
occur if there are no holes in the aggregated network, or, in other
words, if the given networks fill completely the address space
of the supernet. So the two rules are:</p>

<p>1) The aggregate network must contain +all+ the IP addresses of the
   original networks;
2) The aggregate network must contain +only+ the IP addresses of the
   original networks;</p>

<p>A few examples will help clarify the above. Let's consider for
instance the following two networks:</p>

<p>ip1 = Subnet.parse("172.16.10.0/24")
  ip2 = Subnet.parse("172.16.11.0/24")</p>

<p>These two networks can be expressed using only one IP address
network if we change the prefix. Let Ruby do the work:</p>

<p>Subnet::IPv4.summarize(ip1,ip2).to_s</p>

<pre><code><span class="c">#=&gt; &quot;172.16.10.0/23&quot;</span></code></pre>

<p>We note how the network "172.16.10.0/23" includes all the addresses
specified in the above networks, and (more important) includes
ONLY those addresses.</p>

<p>If we summarized <code>ip1</code> and <code>ip2</code> with the following network:</p>

<p>"172.16.0.0/16"</p>

<p>we would have satisfied rule #1 above, but not rule #2. So "172.16.0.0/16"
is not an aggregate network for <code>ip1</code> and <code>ip2</code>.</p>

<p>If it's not possible to compute a single aggregated network for all the
original networks, the method returns an array with all the aggregate
networks found. For example, the following four networks can be
aggregated in a single /22:</p>

<p>ip1 = Subnet.parse("10.0.0.1/24")
  ip2 = Subnet.parse("10.0.1.1/24")
  ip3 = Subnet.parse("10.0.2.1/24")
  ip4 = Subnet.parse("10.0.3.1/24")</p>

<p>Subnet::IPv4.summarize(ip1,ip2,ip3,ip4).to_string</p>

<pre><code><span class="c">#=&gt; [&quot;10.0.0.0/22&quot;]</span></code></pre>

<p>But the following networks can't be summarized in a single network:</p>

<p>ip1 = Subnet.parse("10.0.1.1/24")
  ip2 = Subnet.parse("10.0.2.1/24")
  ip3 = Subnet.parse("10.0.3.1/24")
  ip4 = Subnet.parse("10.0.4.1/24")</p>

<p>Subnet::IPv4.summarize(ip1,ip2,ip3,ip4).map{|i| i.to_string}</p>

<pre><code><span class="c">#=&gt; [&quot;10.0.1.0/24&quot;,&quot;10.0.2.0/23&quot;,&quot;10.0.4.0/24&quot;]</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L942" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>Instance Method Detail</h2>
  
    <div class="entry-detail" id="+(oth)-instance-method">
      <div class="signature">
        
        def <strong>+</strong>(oth)

        <a class="method-permalink" href="#%2B%28oth%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns a new IPv4 object which is the result
of the summarization, if possible, of the two
objects</p>

<p>Example:</p>

<p>ip1 = Subnet.parse("172.16.10.1/24")
  ip2 = Subnet.parse("172.16.11.2/24")</p>

<p>p (ip1 + ip2).map {|i| i.to_string}</p>

<pre><code><span class="c">#=&gt; [&quot;172.16.10.0/23&quot;]</span></code></pre>

<p>If the networks are not contiguous, returns
the two network numbers from the objects</p>

<p>ip1 = Subnet.parse("10.0.0.1/24")
  ip2 = Subnet.parse("10.0.2.1/24")</p>

<p>p (ip1 + ip2).map {|i| i.to_string}</p>

<pre><code><span class="c">#=&gt; [&quot;10.0.0.0/24&quot;,&quot;10.0.2.0/24&quot;]</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L747" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="-(oth)-instance-method">
      <div class="signature">
        
        def <strong>-</strong>(oth)

        <a class="method-permalink" href="#-%28oth%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns the difference between two IP addresses
in unsigned int 32 bits format</p>

<p>Example:</p>

<p>ip1 = Subnet.parse("172.16.10.0/24")
  ip2 = Subnet.parse("172.16.11.0/24")</p>

<p>puts ip1 - ip2</p>

<pre><code><span class="c">#=&gt; 256</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L722" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="/(subnets)-instance-method">
      <div class="signature">
        
        def <strong>/</strong>(subnets)

        <a class="method-permalink" href="#%2F%28subnets%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Splits a network into different subnets</p>

<p>If the IP Address is a network, it can be divided into
multiple networks. If <code>self</code> is not a network, this
method will calculate the network from the IP and then
subnet it.</p>

<p>If <code>subnets</code> is an power of two number, the resulting
networks will be divided evenly from the supernet.</p>

<p>network = Subnet.parse("172.16.10.0/24")</p>

<p>network / 4   # implies map{|i| i.to_string}</p>

<pre><code><span class="c">#=&gt; [&quot;172.16.10.0/26&quot;,</span>
<span class="c">#=&gt;  &quot;172.16.10.64/26&quot;,</span>
<span class="c">#=&gt;  &quot;172.16.10.128/26&quot;,</span>
<span class="c">#=&gt;  &quot;172.16.10.192/26&quot;]</span></code></pre>

<p>If <code>num</code> is any other number, the supernet will be
divided into some networks with a even number of hosts and
other networks with the remaining addresses.</p>

<p>network = Subnet.parse("172.16.10.0/24")</p>

<p>network / 3   # implies map{|i| i.to_string}</p>

<pre><code><span class="c">#=&gt; [&quot;172.16.10.0/26&quot;,</span>
<span class="c">#=&gt;  &quot;172.16.10.64/26&quot;,</span>
<span class="c">#=&gt;  &quot;172.16.10.128/25&quot;]</span></code></pre>

<p>Returns an array of IPv4 objects</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L651" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="(oth)-instance-method">
      <div class="signature">
        
        def <strong><=></strong>(oth)

        <a class="method-permalink" href="#%28oth%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Spaceship operator to compare IPv4 objects</p>

<p>Comparing IPv4 addresses is useful to ordinate
them into lists that match our intuitive
perception of ordered IP addresses.</p>

<p>The first comparison criteria is the u32 value.
For example, 10.100.100.1 will be considered
to be less than 172.16.0.1, because, in a ordered list,
we expect 10.100.100.1 to come before 172.16.0.1.</p>

<p>The second criteria, in case two IPv4 objects
have identical addresses, is the prefix. An higher
prefix will be considered greater than a lower
prefix. This is because we expect to see</p>

<ol><li>100.100.0/24 come before 10.100.100.0/25.</li></ol>

<p>Example:</p>

<p>ip1 = Subnet.parse "10.100.100.1/8"
  ip2 = Subnet.parse "172.16.0.1/16"
  ip3 = Subnet.parse "10.100.100.1/16"</p>

<p>ip1 &lt; ip2</p>

<pre><code><span class="c">#=&gt; true</span></code></pre>

<p>ip1 > ip3</p>

<pre><code><span class="c">#=&gt; false</span></code></pre>

<p>[ip1,ip2,ip3].sort.map{|i| i.to_s }</p>

<pre><code><span class="c">#=&gt; [&quot;10.100.100.1/8&quot;,&quot;10.100.100.1/16&quot;,&quot;172.16.0.1/16&quot;]</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L432" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="[](index)-instance-method">
      <div class="signature">
        
        def <strong>[]</strong>(index)

        <a class="method-permalink" href="#%5B%5D%28index%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns the octet specified by index</p>

<p>ip = Subnet.parse("172.16.100.50/24")</p>

<p>ip[0]</p>

<pre><code><span class="c">#=&gt; 172</span></code></pre>

<p>ip[1]</p>

<pre><code><span class="c">#=&gt; 16</span></code></pre>

<p>ip[2]</p>

<pre><code><span class="c">#=&gt; 100</span></code></pre>

<p>ip[3]</p>

<pre><code><span class="c">#=&gt; 50</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L223" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="[]=(index,value)-instance-method">
      <div class="signature">
        
        def <strong>[]=</strong>(index, value)

        <a class="method-permalink" href="#%5B%5D%3D%28index%2Cvalue%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Updated the octet specified at index</p>

<p>ip = Subnet.parse("172.16.100.50/24")
  ip[2] = 200</p>

<p>#=>  #&lt;Subnet::IPv4:0x00000000000000 @address="172.16.200.1",
  #=>       @prefix=32, @octets=[172, 16, 200, 1], @u32=2886780929></p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L239" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="a?-instance-method">
      <div class="signature">
        
        def <strong>a?</strong>

        <a class="method-permalink" href="#a%3F-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Checks whether the ip address belongs to a
RFC 791 CLASS A network, no matter
what the subnet mask is.</p>

<p>Example:</p>

<p>ip = Subnet.parse("10.0.0.1/24")</p>

<p>ip.a?</p>

<pre><code><span class="c">#=&gt; true</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L762" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="address:String-instance-method">
      <div class="signature">
        
        def <strong>address</strong> : String

        <a class="method-permalink" href="#address%3AString-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns the address portion of the IPv4 object
as a string.</p>

<p>ip = Subnet.parse("172.16.100.4/22")</p>

<p>ip.address</p>

<pre><code><span class="c">#=&gt; &quot;172.16.100.4&quot;</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L32" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="allocate(skip=0)-instance-method">
      <div class="signature">
        
        def <strong>allocate</strong>(skip = <span class="n">0</span>)

        <a class="method-permalink" href="#allocate%28skip%3D0%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Allocates a new ip from the current subnet. Optional skip parameter
can be used to skip addresses.</p>

<p>Will raise <code>Iterator::Stop</code> exception when all addresses have been allocated</p>

<p>Example:</p>

<p>ip = Subnet.parse("10.0.0.0/24")
   ip.allocate</p>

<pre><code> <span class="c">#=&gt; &quot;10.0.0.1/24&quot;</span></code></pre>

<p>ip.allocate</p>

<pre><code> <span class="c">#=&gt; &quot;10.0.0.2/24&quot;</span></code></pre>

<p>ip.allocate(2)</p>

<pre><code> <span class="c">#=&gt; &quot;10.0.0.5/24&quot;</span></code></pre>

<p>Uses an internal @allocator which tracks the state of allocated
addresses.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L997" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="arpa-instance-method">
      <div class="signature">
        
        def <strong>arpa</strong>

        <a class="method-permalink" href="#arpa-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns the IP address in in-addr.arpa format
for DNS lookups</p>

<p>ip = Subnet.parse("172.16.100.50/24")</p>

<p>ip.reverse</p>

<pre><code><span class="c">#=&gt; &quot;50.100.16.172.in-addr.arpa&quot;</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L585" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="b?-instance-method">
      <div class="signature">
        
        def <strong>b?</strong>

        <a class="method-permalink" href="#b%3F-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Checks whether the ip address belongs to a
RFC 791 CLASS B network, no matter
what the subnet mask is.</p>

<p>Example:</p>

<p>ip = Subnet.parse("172.16.10.1/24")</p>

<p>ip.b?</p>

<pre><code><span class="c">#=&gt; true</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L776" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="bits-instance-method">
      <div class="signature">
        
        def <strong>bits</strong>

        <a class="method-permalink" href="#bits-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns the address portion of an IP in binary format,
as a string containing a sequence of 0 and 1</p>

<p>ip = Subnet.parse("127.0.0.1")</p>

<p>ip.bits</p>

<pre><code><span class="c">#=&gt; &quot;01111111000000000000000000000001&quot;</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L251" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="broadcast-instance-method">
      <div class="signature">
        
        def <strong>broadcast</strong>

        <a class="method-permalink" href="#broadcast-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns the broadcast address for the given IP.</p>

<p>ip = Subnet.parse("172.16.10.64/24")</p>

<p>ip.broadcast.to_s</p>

<pre><code><span class="c">#=&gt; &quot;172.16.10.255&quot;</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L261" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="broadcast_u32-instance-method">
      <div class="signature">
        
        def <strong>broadcast_u32</strong>

        <a class="method-permalink" href="#broadcast_u32-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns the broadcast address in Unsigned 32bits format</p>

<p>ip = Subnet.parse("10.0.0.1/29")</p>

<p>ip.broadcast_u32</p>

<pre><code><span class="c">#=&gt; 167772167</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L484" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="c?-instance-method">
      <div class="signature">
        
        def <strong>c?</strong>

        <a class="method-permalink" href="#c%3F-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Checks whether the ip address belongs to a
RFC 791 CLASS C network, no matter
what the subnet mask is.</p>

<p>Example:</p>

<p>ip = Subnet.parse("192.168.1.1/30")</p>

<p>ip.c?</p>

<pre><code><span class="c">#=&gt; true</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L790" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="data-instance-method">
      <div class="signature">
        
        def <strong>data</strong>

        <a class="method-permalink" href="#data-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns the address portion of an IPv4 object
in a network byte order format.</p>

<p>ip = Subnet.parse("172.16.10.1/24")</p>

<p>ip.data</p>

<pre><code><span class="c">#=&gt; Bytes[172, 16, 10, 1]</span></code></pre>

<p>It is usually used to include an IP address
in a data packet to be sent over a socket.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L204" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="each(&amp;block)-instance-method">
      <div class="signature">
        
        def <strong>each</strong>(&block)

        <a class="method-permalink" href="#each%28%26block%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Iterates over all the IP addresses for the given
network (or IP address).</p>

<p>The object yielded is a new IPv4 object created
from the iteration.</p>

<p>ip = Subnet.parse("10.0.0.1/29")</p>

<p>ip.each do |i|</p>

<pre><code>p i.address</code></pre>

<p>end</p>

<pre><code><span class="c">#=&gt; &quot;10.0.0.0&quot;</span>
<span class="c">#=&gt; &quot;10.0.0.1&quot;</span>
<span class="c">#=&gt; &quot;10.0.0.2&quot;</span>
<span class="c">#=&gt; &quot;10.0.0.3&quot;</span>
<span class="c">#=&gt; &quot;10.0.0.4&quot;</span>
<span class="c">#=&gt; &quot;10.0.0.5&quot;</span>
<span class="c">#=&gt; &quot;10.0.0.6&quot;</span>
<span class="c">#=&gt; &quot;10.0.0.7&quot;</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L396" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="each_host(&amp;block)-instance-method">
      <div class="signature">
        
        def <strong>each_host</strong>(&block)

        <a class="method-permalink" href="#each_host%28%26block%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Iterates over all the hosts IP addresses for the given
network (or IP address).</p>

<p>ip = Subnet.parse("10.0.0.1/29")</p>

<p>ip.each_host do |i|</p>

<pre><code>p i.to_s</code></pre>

<p>end</p>

<pre><code><span class="c">#=&gt; &quot;10.0.0.1&quot;</span>
<span class="c">#=&gt; &quot;10.0.0.2&quot;</span>
<span class="c">#=&gt; &quot;10.0.0.3&quot;</span>
<span class="c">#=&gt; &quot;10.0.0.4&quot;</span>
<span class="c">#=&gt; &quot;10.0.0.5&quot;</span>
<span class="c">#=&gt; &quot;10.0.0.6&quot;</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L371" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="first-instance-method">
      <div class="signature">
        
        def <strong>first</strong>

        <a class="method-permalink" href="#first-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns a new IPv4 object with the
first host IP address in the range.</p>

<p>Example: given the 192.168.100.0/24 network, the first
host IP address is 192.168.100.1.</p>

<p>ip = Subnet.parse("192.168.100.0/24")</p>

<p>ip.first.to_s</p>

<pre><code><span class="c">#=&gt; &quot;192.168.100.1&quot;</span></code></pre>

<p>The object IP doesn't need to be a network: the method
automatically gets the network number from it</p>

<p>ip = Subnet.parse("192.168.100.50/24")</p>

<p>ip.first.to_s</p>

<pre><code><span class="c">#=&gt; &quot;192.168.100.1&quot;</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L316" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="hexstring-instance-method">
      <div class="signature">
        
        def <strong>hexstring</strong>

        <a class="method-permalink" href="#hexstring-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns the address portion in
hex</p>

<p>ip = Subnet.parse("10.0.0.0")</p>

<p>ip.to_h</p>

<pre><code><span class="c">#=&gt; 0a000000</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L190" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="hosts-instance-method">
      <div class="signature">
        
        def <strong>hosts</strong>

        <a class="method-permalink" href="#hosts-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns an array with the IP addresses of
all the hosts in the network.</p>

<p>ip = Subnet.parse("10.0.0.1/29")</p>

<p>ip.hosts.map {|i| i.address}</p>

<pre><code><span class="c">#=&gt; [&quot;10.0.0.1&quot;,</span>
<span class="c">#=&gt;  &quot;10.0.0.2&quot;,</span>
<span class="c">#=&gt;  &quot;10.0.0.3&quot;,</span>
<span class="c">#=&gt;  &quot;10.0.0.4&quot;,</span>
<span class="c">#=&gt;  &quot;10.0.0.5&quot;,</span>
<span class="c">#=&gt;  &quot;10.0.0.6&quot;]</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L463" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="includes?(oth)-instance-method">
      <div class="signature">
        
        def <strong>includes?</strong>(oth)

        <a class="method-permalink" href="#includes%3F%28oth%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Checks whether a subnet includes the given IP address.</p>

<p>Accepts an Subnet.parse::IPv4 object.</p>

<p>ip = Subnet.parse("192.168.10.100/24")</p>

<p>addr = Subnet.parse("192.168.10.102/24")</p>

<p>ip.includes? addr</p>

<pre><code><span class="c">#=&gt; true</span></code></pre>

<p>ip.includes? Subnet.parse("172.16.0.48/16")</p>

<pre><code><span class="c">#=&gt; false</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L502" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="includes_all?(*others)-instance-method">
      <div class="signature">
        
        def <strong>includes_all?</strong>(*others)

        <a class="method-permalink" href="#includes_all%3F%28%2Aothers%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Checks whether a subnet includes all the
given IPv4 objects.</p>

<p>ip = Subnet.parse("192.168.10.100/24")</p>

<p>addr1 = Subnet.parse("192.168.10.102/24")
  addr2 = Subnet.parse("192.168.10.103/24")</p>

<p>ip.includes_all?(addr1,addr2)</p>

<pre><code><span class="c">#=&gt; true</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L517" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="last-instance-method">
      <div class="signature">
        
        def <strong>last</strong>

        <a class="method-permalink" href="#last-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Like its sibling method IPv4#first, this method
returns a new IPv4 object with the
last host IP address in the range.</p>

<p>Example: given the 192.168.100.0/24 network, the last
host IP address is 192.168.100.254</p>

<p>ip = Subnet.parse("192.168.100.0/24")</p>

<p>ip.last.to_s</p>

<pre><code><span class="c">#=&gt; &quot;192.168.100.254&quot;</span></code></pre>

<p>The object IP doesn't need to be a network: the method
automatically gets the network number from it</p>

<p>ip = Subnet.parse("192.168.100.50/24")</p>

<p>ip.last.to_s</p>

<pre><code><span class="c">#=&gt; &quot;192.168.100.254&quot;</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L346" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="link_local?-instance-method">
      <div class="signature">
        
        def <strong>link_local?</strong>

        <a class="method-permalink" href="#link_local%3F-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Checks if an IPv4 address objects belongs
to a link-local network RFC3927</p>

<p>Example:</p>

<p>ip = Subnet "169.254.0.1"
  ip.link_local?</p>

<pre><code><span class="c">#=&gt; true</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L568" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="loopback?-instance-method">
      <div class="signature">
        
        def <strong>loopback?</strong>

        <a class="method-permalink" href="#loopback%3F-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Checks if an IPv4 address objects belongs
to a loopback network RFC1122</p>

<p>Example:</p>

<p>ip = Subnet.parse "127.0.0.1"
  ip.loopback?</p>

<pre><code><span class="c">#=&gt; true</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L556" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="multicast?-instance-method">
      <div class="signature">
        
        def <strong>multicast?</strong>

        <a class="method-permalink" href="#multicast%3F-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Checks if an IPv4 address objects belongs
to a multicast network RFC3171</p>

<p>Example:</p>

<p>ip = Subnet.parse "224.0.0.0/4"
  ip.multicast?</p>

<pre><code><span class="c">#=&gt; true</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L544" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="netmask-instance-method">
      <div class="signature">
        
        def <strong>netmask</strong>

        <a class="method-permalink" href="#netmask-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns the prefix as a string in IP format</p>

<p>ip = Subnet.parse("172.16.100.4/22")</p>

<p>ip.netmask</p>

<pre><code><span class="c">#=&gt; &quot;255.255.252.0&quot;</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L152" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="netmask=(addr)-instance-method">
      <div class="signature">
        
        def <strong>netmask=</strong>(addr)

        <a class="method-permalink" href="#netmask%3D%28addr%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Like IPv4#prefix=, this method allow you to
change the prefix / netmask of an IP address
object.</p>

<p>ip = Subnet.parse("172.16.100.4")</p>

<p>puts ip</p>

<pre><code><span class="c">#=&gt; 172.16.100.4/16</span></code></pre>

<p>ip.netmask = "255.255.252.0"</p>

<p>puts ip</p>

<pre><code><span class="c">#=&gt; 172.16.100.4/22</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L169" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="network-instance-method">
      <div class="signature">
        
        def <strong>network</strong>

        <a class="method-permalink" href="#network-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns a new IPv4 object with the network number
for the given IP.</p>

<p>ip = Subnet.parse("172.16.10.64/24")</p>

<p>ip.network.to_s</p>

<pre><code><span class="c">#=&gt; &quot;172.16.10.0&quot;</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L294" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="network?-instance-method">
      <div class="signature">
        
        def <strong>network?</strong>

        <a class="method-permalink" href="#network%3F-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Checks if the IP address is actually a network</p>

<p>ip = Subnet.parse("172.16.10.64/24")</p>

<p>ip.network?</p>

<pre><code><span class="c">#=&gt; false</span></code></pre>

<p>ip = Subnet.parse("172.16.10.64/26")</p>

<p>ip.network?</p>

<pre><code><span class="c">#=&gt; true</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L283" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="network_u32-instance-method">
      <div class="signature">
        
        def <strong>network_u32</strong>

        <a class="method-permalink" href="#network_u32-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns the network number in Unsigned 32bits format</p>

<p>ip = Subnet.parse("10.0.0.1/29")</p>

<p>ip.network_u32</p>

<pre><code><span class="c">#=&gt; 167772160</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L473" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="octet(index)-instance-method">
      <div class="signature">
        
        def <strong>octet</strong>(index)

        <a class="method-permalink" href="#octet%28index%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns the octet specified by index</p>

<p>ip = Subnet.parse("172.16.100.50/24")</p>

<p>ip[0]</p>

<pre><code><span class="c">#=&gt; 172</span></code></pre>

<p>ip[1]</p>

<pre><code><span class="c">#=&gt; 16</span></code></pre>

<p>ip[2]</p>

<pre><code><span class="c">#=&gt; 100</span></code></pre>

<p>ip[3]</p>

<pre><code><span class="c">#=&gt; 50</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L228" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="octets:Array(Int32)-instance-method">
      <div class="signature">
        
        def <strong>octets</strong> : Array(Int32)

        <a class="method-permalink" href="#octets%3AArray%28Int32%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns the address as an array of decimal values</p>

<p>ip = Subnet.parse("172.16.100.4")</p>

<p>ip.octets</p>

<pre><code><span class="c">#=&gt; [172, 16, 100, 4]</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L53" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="prefix:Prefix32-instance-method">
      <div class="signature">
        
        def <strong>prefix</strong> : <a href="../Subnet/Prefix32.html">Prefix32</a>

        <a class="method-permalink" href="#prefix%3APrefix32-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns the prefix portion of the IPv4 object
as a Subnet::Prefix32 object</p>

<p>ip = Subnet.parse("172.16.100.4/22")</p>

<p>ip.prefix</p>

<pre><code><span class="c">#=&gt; 22</span></code></pre>

<p>ip.prefix.class</p>

<pre><code><span class="c">#=&gt; Subnet::Prefix32</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L45" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="prefix=(num)-instance-method">
      <div class="signature">
        
        def <strong>prefix=</strong>(num)

        <a class="method-permalink" href="#prefix%3D%28num%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Set a new prefix number for the object</p>

<p>This is useful if you want to change the prefix
to an object created with IPv4.parse_u32 or
if the object was created using the classful
mask.</p>

<p>ip = Subnet.parse("172.16.100.4")</p>

<p>puts ip</p>

<pre><code><span class="c">#=&gt; 172.16.100.4/16</span></code></pre>

<p>ip.prefix = 22</p>

<p>puts ip</p>

<pre><code><span class="c">#=&gt; 172.16.100.4/22</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L142" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="private?-instance-method">
      <div class="signature">
        
        def <strong>private?</strong>

        <a class="method-permalink" href="#private%3F-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Checks if an IPv4 address objects belongs
to a private network RFC1918</p>

<p>Example:</p>

<p>ip = Subnet.parse "10.1.1.1/24"
  ip.private?</p>

<pre><code><span class="c">#=&gt; true</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L530" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="reverse-instance-method">
      <div class="signature">
        
        def <strong>reverse</strong>

        <a class="method-permalink" href="#reverse-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns the IP address in in-addr.arpa format
for DNS lookups</p>

<p>ip = Subnet.parse("172.16.100.50/24")</p>

<p>ip.reverse</p>

<pre><code><span class="c">#=&gt; &quot;50.100.16.172.in-addr.arpa&quot;</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L580" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="size-instance-method">
      <div class="signature">
        
        def <strong>size</strong>

        <a class="method-permalink" href="#size-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns the number of IP addresses included
in the network. It also counts the network
address and the broadcast address.</p>

<p>ip = Subnet.parse("10.0.0.1/29")</p>

<p>ip.size</p>

<pre><code><span class="c">#=&gt; 8</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L446" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="split(subnets=2)-instance-method">
      <div class="signature">
        
        def <strong>split</strong>(subnets = <span class="n">2</span>)

        <a class="method-permalink" href="#split%28subnets%3D2%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Splits a network into different subnets</p>

<p>If the IP Address is a network, it can be divided into
multiple networks. If <code>self</code> is not a network, this
method will calculate the network from the IP and then
subnet it.</p>

<p>If <code>subnets</code> is an power of two number, the resulting
networks will be divided evenly from the supernet.</p>

<p>network = Subnet.parse("172.16.10.0/24")</p>

<p>network / 4   # implies map{|i| i.to_string}</p>

<pre><code><span class="c">#=&gt; [&quot;172.16.10.0/26&quot;,</span>
<span class="c">#=&gt;  &quot;172.16.10.64/26&quot;,</span>
<span class="c">#=&gt;  &quot;172.16.10.128/26&quot;,</span>
<span class="c">#=&gt;  &quot;172.16.10.192/26&quot;]</span></code></pre>

<p>If <code>num</code> is any other number, the supernet will be
divided into some networks with a even number of hosts and
other networks with the remaining addresses.</p>

<p>network = Subnet.parse("172.16.10.0/24")</p>

<p>network / 3   # implies map{|i| i.to_string}</p>

<pre><code><span class="c">#=&gt; [&quot;172.16.10.0/26&quot;,</span>
<span class="c">#=&gt;  &quot;172.16.10.64/26&quot;,</span>
<span class="c">#=&gt;  &quot;172.16.10.128/25&quot;]</span></code></pre>

<p>Returns an array of IPv4 objects</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L639" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="subnet(subprefix)-instance-method">
      <div class="signature">
        
        def <strong>subnet</strong>(subprefix)

        <a class="method-permalink" href="#subnet%28subprefix%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>This method implements the subnetting function
similar to the one described in RFC3531.</p>

<p>By specifying a new prefix, the method calculates
the network number for the given IPv4 object
and calculates the subnets associated to the new
prefix.</p>

<p>For example, given the following network:</p>

<p>ip = Subnet.parse "172.16.10.0/24"</p>

<p>we can calculate the subnets with a /26 prefix</p>

<p>ip.subnet(26).map{&:to_string)</p>

<pre><code><span class="c">#=&gt; [&quot;172.16.10.0/26&quot;, &quot;172.16.10.64/26&quot;,</span>
     <span class="s">&quot;172.16.10.128/26&quot;</span>, <span class="s">&quot;172.16.10.192/26&quot;</span>]</code></pre>

<p>The resulting number of subnets will of course always be
a power of two.</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L703" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="supernet(new_prefix)-instance-method">
      <div class="signature">
        
        def <strong>supernet</strong>(new_prefix)

        <a class="method-permalink" href="#supernet%28new_prefix%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns a new IPv4 object from the supernetting
of the instance network.</p>

<p>Supernetting is similar to subnetting, except
that you getting as a result a network with a
smaller prefix (bigger host space). For example,
given the network</p>

<p>ip = Subnet.parse("172.16.10.0/24")</p>

<p>you can supernet it with a new /23 prefix</p>

<p>ip.supernet(23).to_string</p>

<pre><code><span class="c">#=&gt; &quot;172.16.10.0/23&quot;</span></code></pre>

<p>However if you supernet it with a /22 prefix, the
network address will change:</p>

<p>ip.supernet(22).to_string</p>

<pre><code><span class="c">#=&gt; &quot;172.16.8.0/22&quot;</span></code></pre>

<p>If <code>new_prefix</code> is less than 1, returns 0.0.0.0/0</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L677" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="to(e)-instance-method">
      <div class="signature">
        
        def <strong>to</strong>(e)

        <a class="method-permalink" href="#to%28e%29-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Return a list of IP's between @address
and the supplied IP</p>

<p>ip = Subnet..parse("172.16.100.51/32")</p>

<p>ip.to("172.16.100.100")</p>

<pre><code><span class="c">#=&gt; [&quot;172.16.100.51&quot;,</span>
<span class="c">#=&gt;  &quot;172.16.100.52&quot;,</span>
<span class="c">#=&gt;  ...</span>
<span class="c">#=&gt;  &quot;172.16.100.99&quot;,</span>
<span class="c">#=&gt;  &quot;172.16.100.100&quot;]</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L601" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="to_i-instance-method">
      <div class="signature">
        
        def <strong>to_i</strong>

        <a class="method-permalink" href="#to_i-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Like IPv4#prefix=, this method allow you to
change the prefix / netmask of an IP address
object.</p>

<p>ip = Subnet.parse("172.16.100.4")</p>

<p>puts ip</p>

<pre><code><span class="c">#=&gt; 172.16.100.4/16</span></code></pre>

<p>ip.netmask = "255.255.252.0"</p>

<p>puts ip</p>

<pre><code><span class="c">#=&gt; 172.16.100.4/22</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L174" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="to_ipv6-instance-method">
      <div class="signature">
        
        def <strong>to_ipv6</strong>

        <a class="method-permalink" href="#to_ipv6-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Return the ip address in a format compatible
with the IPv6 Mapped IPv4 addresses</p>

<p>Example:</p>

<p>ip = Subnet.parse("172.16.10.1/24")</p>

<p>ip.to_ipv6</p>

<pre><code><span class="c">#=&gt; &quot;ac10:0a01&quot;</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L803" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="to_s:String-instance-method">
      <div class="signature">
        
        def <strong>to_s</strong> : String

        <a class="method-permalink" href="#to_s%3AString-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns a string with the address portion of
the IPv4 object</p>

<p>ip = Subnet.parse("172.16.100.4/22")</p>

<p>ip.to_s</p>

<pre><code><span class="c">#=&gt; &quot;172.16.100.4&quot;</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L1014" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="to_string-instance-method">
      <div class="signature">
        
        def <strong>to_string</strong>

        <a class="method-permalink" href="#to_string-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns a string with the IP address in canonical
form.</p>

<p>ip = Subnet.parse("172.16.100.4/22")</p>

<p>ip.to_string</p>

<pre><code><span class="c">#=&gt; &quot;172.16.100.4/22&quot;</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L1026" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="to_u32-instance-method">
      <div class="signature">
        
        def <strong>to_u32</strong>

        <a class="method-permalink" href="#to_u32-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Like IPv4#prefix=, this method allow you to
change the prefix / netmask of an IP address
object.</p>

<p>ip = Subnet.parse("172.16.100.4")</p>

<p>puts ip</p>

<pre><code><span class="c">#=&gt; 172.16.100.4/16</span></code></pre>

<p>ip.netmask = "255.255.252.0"</p>

<p>puts ip</p>

<pre><code><span class="c">#=&gt; 172.16.100.4/22</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L179" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="u32:Int64-instance-method">
      <div class="signature">
        
        def <strong>u32</strong> : Int64

        <a class="method-permalink" href="#u32%3AInt64-instance-method">#</a>
      </div>
      
        <div class="doc"><p>Returns the address portion in unsigned
32 bits integer format.</p>

<p>This method is identical to the C function
inet_pton to create a 32 bits address family
structure.</p>

<p>ip = Subnet.parse("10.0.0.0/8")</p>

<p>ip.to_i</p>

<pre><code><span class="c">#=&gt; 167772160</span></code></pre></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/watzon/subnet/blob/c457cfc88d78f04442128749d9f4bb7ffa2d6092/src/subnet/ipv4.cr#L66" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
